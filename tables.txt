create database gase;
use gase;

CREATE TABLE GASE_FOURNISSEURS (
ID_FOURNISSEUR INT NOT NULL AUTO_INCREMENT,
NOM VARCHAR(255), 
MAIL VARCHAR(255), 
ADRESSE VARCHAR(255), 
CONTACT VARCHAR(255), 
TELEPHONE_FIXE VARCHAR(255), 
TELEPHONE_PORTABLE VARCHAR(255), 
FAX VARCHAR(255), 
COMMENTAIRE VARCHAR(255), 
DATE_REFERENCEMENT TIMESTAMP NULL DEFAULT NOW(), 
VISIBLE INT,
PRIMARY KEY (ID_FOURNISSEUR)
);

CREATE TABLE GASE_ACHATS (
ID_ACHAT INT NOT NULL AUTO_INCREMENT,
DATE_ACHAT TIMESTAMP NULL DEFAULT NOW(),
ID_ADHERENT INT,
TOTAL_TTC DECIMAL(7,2),
NB_REFERENCES INT,
PRIMARY KEY (ID_ACHAT)
);

CREATE TABLE GASE_VIE_OUTIL (
DATE  TIMESTAMP NULL DEFAULT NOW(), 
MESSAGE VARCHAR(255)
);

CREATE TABLE GASE_ADHERENTS (
ID_ADHERENT INT NOT NULL AUTO_INCREMENT,
NOM VARCHAR(255), 
PRENOM VARCHAR(255), 
MAIL VARCHAR(255), 
TELEPHONE_FIXE VARCHAR(255), 
TELEPHONE_PORTABLE VARCHAR(255), 
ADRESSE VARCHAR(255), 
COMMENTAIRE VARCHAR(255), 
TICKET_CAISSE INT, 
DATE_INSCRIPTION TIMESTAMP NULL DEFAULT NOW(), 
VISIBLE INT,
RECEIVE_ALERT_STOCK INT,
PRIMARY KEY (ID_ADHERENT)
);

CREATE TABLE GASE_COMPTES (
ID_ADHERENT INT, 
SOLDE DECIMAL(7,2), 
DATE TIMESTAMP NULL DEFAULT NOW(), 
OPERATION VARCHAR(255), 
MONTANT DECIMAL(7,2)
);

CREATE TABLE GASE_CATEGORIES (
ID_CATEGORIE INT NOT NULL AUTO_INCREMENT,
NOM VARCHAR(255), 
ID_CAT_SUP INT,
SOUS_CATEGORIES INT,
VISIBLE INT,
PRIMARY KEY (ID_CATEGORIE)
);

CREATE TABLE GASE_DOCUMENTS (
ID_DOCUMENT INT NOT NULL AUTO_INCREMENT,
NOM VARCHAR(255), 
ID_TYPE INT, 
ID_FOURNISSEUR INT, 
DATE TIMESTAMP NULL DEFAULT NOW(), 
NET_A_PAYER DECIMAL(7,2),
PRIMARY KEY (ID_DOCUMENT)
);


CREATE TABLE GASE_REFERENCES (
ID_REFERENCE INT NOT NULL AUTO_INCREMENT,
DESIGNATION VARCHAR(255), 
ID_FOURNISSEUR INT, 
VRAC INT, 
ID_CATEGORIE INT, 
PRIX_TTC DECIMAL(7,2), 
TVA  DECIMAL(7,2), 
VISIBLE INT, 
CODE_FOURNISSEUR VARCHAR(255), 
COMMENTAIRE VARCHAR(255), 
ALERT_STOCK INT, 
DATE_REFERENCEMENT TIMESTAMP NULL DEFAULT NOW(),
PRIMARY KEY (ID_REFERENCE)
);		

CREATE TABLE GASE_STOCKS (
ID_REFERENCE INT, 
STOCK DECIMAL(7,2), 
OPERATION VARCHAR(255), 
DATE TIMESTAMP NULL DEFAULT NOW(), 
ID_ACHAT INT, 
QUANTITE DECIMAL(7,2)
);

CREATE TABLE GASE_ALERTS_STOCK_RAISED (
  ID_ALERTS_STOCK_RAISED INT NOT NULL AUTO_INCREMENT,
  ID_REFERENCE INT NULL,
  TIMESTAMP TIMESTAMP NULL DEFAULT NOW(),
  PRIMARY KEY (ID_ALERTS_STOCK_RAISED)
);

